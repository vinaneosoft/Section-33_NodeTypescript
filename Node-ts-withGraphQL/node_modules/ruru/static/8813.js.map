{"version":3,"file":"8813.js","mappings":"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","sources":["webpack://ruru/../../node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensDto.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/editor/common/services/model.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/platform/markers/common/markers.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/editor/common/services/editorWorker.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStylingService.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDnd.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatures.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/base/common/collections.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/editor/common/languageFeatureRegistry.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/editor/common/services/languageFeaturesService.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/editor/common/services/resolverService.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/base/common/severity.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/platform/files/common/files.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/platform/environment/common/environment.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/base/common/numbers.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsService.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStyling.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/editor/common/languageSelector.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorations.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/base/common/themables.js","webpack://ruru/../../node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDndService.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { VSBuffer } from '../../../base/common/buffer.js';\nimport * as platform from '../../../base/common/platform.js';\nfunction reverseEndianness(arr) {\n    for (let i = 0, len = arr.length; i < len; i += 4) {\n        // flip bytes 0<->3 and 1<->2\n        const b0 = arr[i + 0];\n        const b1 = arr[i + 1];\n        const b2 = arr[i + 2];\n        const b3 = arr[i + 3];\n        arr[i + 0] = b3;\n        arr[i + 1] = b2;\n        arr[i + 2] = b1;\n        arr[i + 3] = b0;\n    }\n}\nfunction toLittleEndianBuffer(arr) {\n    const uint8Arr = new Uint8Array(arr.buffer, arr.byteOffset, arr.length * 4);\n    if (!platform.isLittleEndian()) {\n        // the byte order must be changed\n        reverseEndianness(uint8Arr);\n    }\n    return VSBuffer.wrap(uint8Arr);\n}\nexport function encodeSemanticTokensDto(semanticTokens) {\n    const dest = new Uint32Array(encodeSemanticTokensDtoSize(semanticTokens));\n    let offset = 0;\n    dest[offset++] = semanticTokens.id;\n    if (semanticTokens.type === 'full') {\n        dest[offset++] = 1 /* EncodedSemanticTokensType.Full */;\n        dest[offset++] = semanticTokens.data.length;\n        dest.set(semanticTokens.data, offset);\n        offset += semanticTokens.data.length;\n    }\n    else {\n        dest[offset++] = 2 /* EncodedSemanticTokensType.Delta */;\n        dest[offset++] = semanticTokens.deltas.length;\n        for (const delta of semanticTokens.deltas) {\n            dest[offset++] = delta.start;\n            dest[offset++] = delta.deleteCount;\n            if (delta.data) {\n                dest[offset++] = delta.data.length;\n                dest.set(delta.data, offset);\n                offset += delta.data.length;\n            }\n            else {\n                dest[offset++] = 0;\n            }\n        }\n    }\n    return toLittleEndianBuffer(dest);\n}\nfunction encodeSemanticTokensDtoSize(semanticTokens) {\n    let result = 0;\n    result += (+1 // id\n        + 1 // type\n    );\n    if (semanticTokens.type === 'full') {\n        result += (+1 // data length\n            + semanticTokens.data.length);\n    }\n    else {\n        result += (+1 // delta count\n        );\n        result += (+1 // start\n            + 1 // deleteCount\n            + 1 // data length\n        ) * semanticTokens.deltas.length;\n        for (const delta of semanticTokens.deltas) {\n            if (delta.data) {\n                result += delta.data.length;\n            }\n        }\n    }\n    return result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nexport const IModelService = createDecorator('modelService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport Severity from '../../../base/common/severity.js';\nimport { localize } from '../../../nls.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport var MarkerSeverity;\n(function (MarkerSeverity) {\n    MarkerSeverity[MarkerSeverity[\"Hint\"] = 1] = \"Hint\";\n    MarkerSeverity[MarkerSeverity[\"Info\"] = 2] = \"Info\";\n    MarkerSeverity[MarkerSeverity[\"Warning\"] = 4] = \"Warning\";\n    MarkerSeverity[MarkerSeverity[\"Error\"] = 8] = \"Error\";\n})(MarkerSeverity || (MarkerSeverity = {}));\n(function (MarkerSeverity) {\n    function compare(a, b) {\n        return b - a;\n    }\n    MarkerSeverity.compare = compare;\n    const _displayStrings = Object.create(null);\n    _displayStrings[MarkerSeverity.Error] = localize('sev.error', \"Error\");\n    _displayStrings[MarkerSeverity.Warning] = localize('sev.warning', \"Warning\");\n    _displayStrings[MarkerSeverity.Info] = localize('sev.info', \"Info\");\n    function toString(a) {\n        return _displayStrings[a] || '';\n    }\n    MarkerSeverity.toString = toString;\n    function fromSeverity(severity) {\n        switch (severity) {\n            case Severity.Error: return MarkerSeverity.Error;\n            case Severity.Warning: return MarkerSeverity.Warning;\n            case Severity.Info: return MarkerSeverity.Info;\n            case Severity.Ignore: return MarkerSeverity.Hint;\n        }\n    }\n    MarkerSeverity.fromSeverity = fromSeverity;\n    function toSeverity(severity) {\n        switch (severity) {\n            case MarkerSeverity.Error: return Severity.Error;\n            case MarkerSeverity.Warning: return Severity.Warning;\n            case MarkerSeverity.Info: return Severity.Info;\n            case MarkerSeverity.Hint: return Severity.Ignore;\n        }\n    }\n    MarkerSeverity.toSeverity = toSeverity;\n})(MarkerSeverity || (MarkerSeverity = {}));\nexport var IMarkerData;\n(function (IMarkerData) {\n    const emptyString = '';\n    function makeKey(markerData) {\n        return makeKeyOptionalMessage(markerData, true);\n    }\n    IMarkerData.makeKey = makeKey;\n    function makeKeyOptionalMessage(markerData, useMessage) {\n        const result = [emptyString];\n        if (markerData.source) {\n            result.push(markerData.source.replace('¦', '\\\\¦'));\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.code) {\n            if (typeof markerData.code === 'string') {\n                result.push(markerData.code.replace('¦', '\\\\¦'));\n            }\n            else {\n                result.push(markerData.code.value.replace('¦', '\\\\¦'));\n            }\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.severity !== undefined && markerData.severity !== null) {\n            result.push(MarkerSeverity.toString(markerData.severity));\n        }\n        else {\n            result.push(emptyString);\n        }\n        // Modifed to not include the message as part of the marker key to work around\n        // https://github.com/microsoft/vscode/issues/77475\n        if (markerData.message && useMessage) {\n            result.push(markerData.message.replace('¦', '\\\\¦'));\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.startLineNumber !== undefined && markerData.startLineNumber !== null) {\n            result.push(markerData.startLineNumber.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.startColumn !== undefined && markerData.startColumn !== null) {\n            result.push(markerData.startColumn.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.endLineNumber !== undefined && markerData.endLineNumber !== null) {\n            result.push(markerData.endLineNumber.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.endColumn !== undefined && markerData.endColumn !== null) {\n            result.push(markerData.endColumn.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        result.push(emptyString);\n        return result.join('¦');\n    }\n    IMarkerData.makeKeyOptionalMessage = makeKeyOptionalMessage;\n})(IMarkerData || (IMarkerData = {}));\nexport const IMarkerService = createDecorator('markerService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nexport const IEditorWorkerService = createDecorator('editorWorkerService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { doHash } from '../../../base/common/hash.js';\nimport { LRUCache } from '../../../base/common/map.js';\nimport { clamp, MovingAverage, SlidingWindowAverage } from '../../../base/common/numbers.js';\nimport { IEnvironmentService } from '../../../platform/environment/common/environment.js';\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\nimport { matchesScheme } from '../../../base/common/network.js';\nexport const ILanguageFeatureDebounceService = createDecorator('ILanguageFeatureDebounceService');\nvar IdentityHash;\n(function (IdentityHash) {\n    const _hashes = new WeakMap();\n    let pool = 0;\n    function of(obj) {\n        let value = _hashes.get(obj);\n        if (value === undefined) {\n            value = ++pool;\n            _hashes.set(obj, value);\n        }\n        return value;\n    }\n    IdentityHash.of = of;\n})(IdentityHash || (IdentityHash = {}));\nclass NullDebounceInformation {\n    constructor(_default) {\n        this._default = _default;\n    }\n    get(_model) {\n        return this._default;\n    }\n    update(_model, _value) {\n        return this._default;\n    }\n    default() {\n        return this._default;\n    }\n}\nclass FeatureDebounceInformation {\n    constructor(_logService, _name, _registry, _default, _min, _max) {\n        this._logService = _logService;\n        this._name = _name;\n        this._registry = _registry;\n        this._default = _default;\n        this._min = _min;\n        this._max = _max;\n        this._cache = new LRUCache(50, 0.7);\n    }\n    _key(model) {\n        return model.id + this._registry.all(model).reduce((hashVal, obj) => doHash(IdentityHash.of(obj), hashVal), 0);\n    }\n    get(model) {\n        const key = this._key(model);\n        const avg = this._cache.get(key);\n        return avg\n            ? clamp(avg.value, this._min, this._max)\n            : this.default();\n    }\n    update(model, value) {\n        const key = this._key(model);\n        let avg = this._cache.get(key);\n        if (!avg) {\n            avg = new SlidingWindowAverage(6);\n            this._cache.set(key, avg);\n        }\n        const newValue = clamp(avg.update(value), this._min, this._max);\n        if (!matchesScheme(model.uri, 'output')) {\n            this._logService.trace(`[DEBOUNCE: ${this._name}] for ${model.uri.toString()} is ${newValue}ms`);\n        }\n        return newValue;\n    }\n    _overall() {\n        const result = new MovingAverage();\n        for (const [, avg] of this._cache) {\n            result.update(avg.value);\n        }\n        return result.value;\n    }\n    default() {\n        const value = (this._overall() | 0) || this._default;\n        return clamp(value, this._min, this._max);\n    }\n}\nlet LanguageFeatureDebounceService = class LanguageFeatureDebounceService {\n    constructor(_logService, envService) {\n        this._logService = _logService;\n        this._data = new Map();\n        this._isDev = envService.isExtensionDevelopment || !envService.isBuilt;\n    }\n    for(feature, name, config) {\n        const min = config?.min ?? 50;\n        const max = config?.max ?? min ** 2;\n        const extra = config?.key ?? undefined;\n        const key = `${IdentityHash.of(feature)},${min}${extra ? ',' + extra : ''}`;\n        let info = this._data.get(key);\n        if (!info) {\n            if (this._isDev) {\n                this._logService.debug(`[DEBOUNCE: ${name}] is disabled in developed mode`);\n                info = new NullDebounceInformation(min * 1.5);\n            }\n            else {\n                info = new FeatureDebounceInformation(this._logService, name, feature, (this._overallAverage() | 0) || (min * 1.5), // default is overall default or derived from min-value\n                min, max);\n            }\n            this._data.set(key, info);\n        }\n        return info;\n    }\n    _overallAverage() {\n        // Average of all language features. Not a great value but an approximation\n        const result = new MovingAverage();\n        for (const info of this._data.values()) {\n            result.update(info.default());\n        }\n        return result.value;\n    }\n};\nLanguageFeatureDebounceService = __decorate([\n    __param(0, ILogService),\n    __param(1, IEnvironmentService)\n], LanguageFeatureDebounceService);\nexport { LanguageFeatureDebounceService };\nregisterSingleton(ILanguageFeatureDebounceService, LanguageFeatureDebounceService, 1 /* InstantiationType.Delayed */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { ILanguageService } from '../languages/language.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\nimport { SemanticTokensProviderStyling } from './semanticTokensProviderStyling.js';\nimport { ISemanticTokensStylingService } from './semanticTokensStyling.js';\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\nlet SemanticTokensStylingService = class SemanticTokensStylingService extends Disposable {\n    constructor(_themeService, _logService, _languageService) {\n        super();\n        this._themeService = _themeService;\n        this._logService = _logService;\n        this._languageService = _languageService;\n        this._caches = new WeakMap();\n        this._register(this._themeService.onDidColorThemeChange(() => {\n            this._caches = new WeakMap();\n        }));\n    }\n    getStyling(provider) {\n        if (!this._caches.has(provider)) {\n            this._caches.set(provider, new SemanticTokensProviderStyling(provider.getLegend(), this._themeService, this._languageService, this._logService));\n        }\n        return this._caches.get(provider);\n    }\n};\nSemanticTokensStylingService = __decorate([\n    __param(0, IThemeService),\n    __param(1, ILogService),\n    __param(2, ILanguageService)\n], SemanticTokensStylingService);\nexport { SemanticTokensStylingService };\nregisterSingleton(ISemanticTokensStylingService, SemanticTokensStylingService, 1 /* InstantiationType.Delayed */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class TreeViewsDnDService {\n    constructor() {\n        this._dragOperations = new Map();\n    }\n    removeDragOperationTransfer(uuid) {\n        if ((uuid && this._dragOperations.has(uuid))) {\n            const operation = this._dragOperations.get(uuid);\n            this._dragOperations.delete(uuid);\n            return operation;\n        }\n        return undefined;\n    }\n}\nexport class DraggedTreeItemsIdentifier {\n    constructor(identifier) {\n        this.identifier = identifier;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nexport const ILanguageFeaturesService = createDecorator('ILanguageFeaturesService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function diffSets(before, after) {\n    const removed = [];\n    const added = [];\n    for (const element of before) {\n        if (!after.has(element)) {\n            removed.push(element);\n        }\n    }\n    for (const element of after) {\n        if (!before.has(element)) {\n            added.push(element);\n        }\n    }\n    return { removed, added };\n}\n/**\n * Computes the intersection of two sets.\n *\n * @param setA - The first set.\n * @param setB - The second iterable.\n * @returns A new set containing the elements that are in both `setA` and `setB`.\n */\nexport function intersection(setA, setB) {\n    const result = new Set();\n    for (const elem of setB) {\n        if (setA.has(elem)) {\n            result.add(elem);\n        }\n    }\n    return result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Schemas } from '../../../base/common/network.js';\nimport { DataUri } from '../../../base/common/resources.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../languages/modesRegistry.js';\nimport { FileKind } from '../../../platform/files/common/files.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nconst fileIconDirectoryRegex = /(?:\\/|^)(?:([^\\/]+)\\/)?([^\\/]+)$/;\nexport function getIconClasses(modelService, languageService, resource, fileKind, icon) {\n    if (ThemeIcon.isThemeIcon(icon)) {\n        return [`codicon-${icon.id}`, 'predefined-file-icon'];\n    }\n    if (URI.isUri(icon)) {\n        return [];\n    }\n    // we always set these base classes even if we do not have a path\n    const classes = fileKind === FileKind.ROOT_FOLDER ? ['rootfolder-icon'] : fileKind === FileKind.FOLDER ? ['folder-icon'] : ['file-icon'];\n    if (resource) {\n        // Get the path and name of the resource. For data-URIs, we need to parse specially\n        let name;\n        if (resource.scheme === Schemas.data) {\n            const metadata = DataUri.parseMetaData(resource);\n            name = metadata.get(DataUri.META_DATA_LABEL);\n        }\n        else {\n            const match = resource.path.match(fileIconDirectoryRegex);\n            if (match) {\n                name = cssEscape(match[2].toLowerCase());\n                if (match[1]) {\n                    classes.push(`${cssEscape(match[1].toLowerCase())}-name-dir-icon`); // parent directory\n                }\n            }\n            else {\n                name = cssEscape(resource.authority.toLowerCase());\n            }\n        }\n        // Root Folders\n        if (fileKind === FileKind.ROOT_FOLDER) {\n            classes.push(`${name}-root-name-folder-icon`);\n        }\n        // Folders\n        else if (fileKind === FileKind.FOLDER) {\n            classes.push(`${name}-name-folder-icon`);\n        }\n        // Files\n        else {\n            // Name & Extension(s)\n            if (name) {\n                classes.push(`${name}-name-file-icon`);\n                classes.push(`name-file-icon`); // extra segment to increase file-name score\n                // Avoid doing an explosive combination of extensions for very long filenames\n                // (most file systems do not allow files > 255 length) with lots of `.` characters\n                // https://github.com/microsoft/vscode/issues/116199\n                if (name.length <= 255) {\n                    const dotSegments = name.split('.');\n                    for (let i = 1; i < dotSegments.length; i++) {\n                        classes.push(`${dotSegments.slice(i).join('.')}-ext-file-icon`); // add each combination of all found extensions if more than one\n                    }\n                }\n                classes.push(`ext-file-icon`); // extra segment to increase file-ext score\n            }\n            // Detected Mode\n            const detectedLanguageId = detectLanguageId(modelService, languageService, resource);\n            if (detectedLanguageId) {\n                classes.push(`${cssEscape(detectedLanguageId)}-lang-file-icon`);\n            }\n        }\n    }\n    return classes;\n}\nfunction detectLanguageId(modelService, languageService, resource) {\n    if (!resource) {\n        return null; // we need a resource at least\n    }\n    let languageId = null;\n    // Data URI: check for encoded metadata\n    if (resource.scheme === Schemas.data) {\n        const metadata = DataUri.parseMetaData(resource);\n        const mime = metadata.get(DataUri.META_DATA_MIME);\n        if (mime) {\n            languageId = languageService.getLanguageIdByMimeType(mime);\n        }\n    }\n    // Any other URI: check for model if existing\n    else {\n        const model = modelService.getModel(resource);\n        if (model) {\n            languageId = model.getLanguageId();\n        }\n    }\n    // only take if the language id is specific (aka no just plain text)\n    if (languageId && languageId !== PLAINTEXT_LANGUAGE_ID) {\n        return languageId;\n    }\n    // otherwise fallback to path based detection\n    return languageService.guessLanguageIdByFilepathOrFirstLine(resource);\n}\nfunction cssEscape(str) {\n    return str.replace(/[\\s]/g, '/'); // HTML class names can not contain certain whitespace characters (https://dom.spec.whatwg.org/#interface-domtokenlist), use / instead, which doesn't exist in file names.\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../base/common/event.js';\nimport { toDisposable } from '../../base/common/lifecycle.js';\nimport { shouldSynchronizeModel } from './model.js';\nimport { score } from './languageSelector.js';\nfunction isExclusive(selector) {\n    if (typeof selector === 'string') {\n        return false;\n    }\n    else if (Array.isArray(selector)) {\n        return selector.every(isExclusive);\n    }\n    else {\n        return !!selector.exclusive; // TODO: microsoft/TypeScript#42768\n    }\n}\nclass MatchCandidate {\n    constructor(uri, languageId, notebookUri, notebookType, recursive) {\n        this.uri = uri;\n        this.languageId = languageId;\n        this.notebookUri = notebookUri;\n        this.notebookType = notebookType;\n        this.recursive = recursive;\n    }\n    equals(other) {\n        return this.notebookType === other.notebookType\n            && this.languageId === other.languageId\n            && this.uri.toString() === other.uri.toString()\n            && this.notebookUri?.toString() === other.notebookUri?.toString()\n            && this.recursive === other.recursive;\n    }\n}\nexport class LanguageFeatureRegistry {\n    constructor(_notebookInfoResolver) {\n        this._notebookInfoResolver = _notebookInfoResolver;\n        this._clock = 0;\n        this._entries = [];\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n    }\n    register(selector, provider) {\n        let entry = {\n            selector,\n            provider,\n            _score: -1,\n            _time: this._clock++\n        };\n        this._entries.push(entry);\n        this._lastCandidate = undefined;\n        this._onDidChange.fire(this._entries.length);\n        return toDisposable(() => {\n            if (entry) {\n                const idx = this._entries.indexOf(entry);\n                if (idx >= 0) {\n                    this._entries.splice(idx, 1);\n                    this._lastCandidate = undefined;\n                    this._onDidChange.fire(this._entries.length);\n                    entry = undefined;\n                }\n            }\n        });\n    }\n    has(model) {\n        return this.all(model).length > 0;\n    }\n    all(model) {\n        if (!model) {\n            return [];\n        }\n        this._updateScores(model, false);\n        const result = [];\n        // from registry\n        for (const entry of this._entries) {\n            if (entry._score > 0) {\n                result.push(entry.provider);\n            }\n        }\n        return result;\n    }\n    ordered(model, recursive = false) {\n        const result = [];\n        this._orderedForEach(model, recursive, entry => result.push(entry.provider));\n        return result;\n    }\n    orderedGroups(model) {\n        const result = [];\n        let lastBucket;\n        let lastBucketScore;\n        this._orderedForEach(model, false, entry => {\n            if (lastBucket && lastBucketScore === entry._score) {\n                lastBucket.push(entry.provider);\n            }\n            else {\n                lastBucketScore = entry._score;\n                lastBucket = [entry.provider];\n                result.push(lastBucket);\n            }\n        });\n        return result;\n    }\n    _orderedForEach(model, recursive, callback) {\n        this._updateScores(model, recursive);\n        for (const entry of this._entries) {\n            if (entry._score > 0) {\n                callback(entry);\n            }\n        }\n    }\n    _updateScores(model, recursive) {\n        const notebookInfo = this._notebookInfoResolver?.(model.uri);\n        // use the uri (scheme, pattern) of the notebook info iff we have one\n        // otherwise it's the model's/document's uri\n        const candidate = notebookInfo\n            ? new MatchCandidate(model.uri, model.getLanguageId(), notebookInfo.uri, notebookInfo.type, recursive)\n            : new MatchCandidate(model.uri, model.getLanguageId(), undefined, undefined, recursive);\n        if (this._lastCandidate?.equals(candidate)) {\n            // nothing has changed\n            return;\n        }\n        this._lastCandidate = candidate;\n        for (const entry of this._entries) {\n            entry._score = score(entry.selector, candidate.uri, candidate.languageId, shouldSynchronizeModel(model), candidate.notebookUri, candidate.notebookType);\n            if (isExclusive(entry.selector) && entry._score > 0) {\n                if (recursive) {\n                    entry._score = 0;\n                }\n                else {\n                    // support for one exclusive selector that overwrites\n                    // any other selector\n                    for (const entry of this._entries) {\n                        entry._score = 0;\n                    }\n                    entry._score = 1000;\n                    break;\n                }\n            }\n        }\n        // needs sorting\n        this._entries.sort(LanguageFeatureRegistry._compareByScoreAndTime);\n    }\n    static _compareByScoreAndTime(a, b) {\n        if (a._score < b._score) {\n            return 1;\n        }\n        else if (a._score > b._score) {\n            return -1;\n        }\n        // De-prioritize built-in providers\n        if (isBuiltinSelector(a.selector) && !isBuiltinSelector(b.selector)) {\n            return 1;\n        }\n        else if (!isBuiltinSelector(a.selector) && isBuiltinSelector(b.selector)) {\n            return -1;\n        }\n        if (a._time < b._time) {\n            return 1;\n        }\n        else if (a._time > b._time) {\n            return -1;\n        }\n        else {\n            return 0;\n        }\n    }\n}\nfunction isBuiltinSelector(selector) {\n    if (typeof selector === 'string') {\n        return false;\n    }\n    if (Array.isArray(selector)) {\n        return selector.some(isBuiltinSelector);\n    }\n    return Boolean(selector.isBuiltin);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { LanguageFeatureRegistry } from '../languageFeatureRegistry.js';\nimport { ILanguageFeaturesService } from './languageFeatures.js';\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\nexport class LanguageFeaturesService {\n    constructor() {\n        this.referenceProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.renameProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.newSymbolNamesProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.codeActionProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.definitionProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.typeDefinitionProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.declarationProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.implementationProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.documentSymbolProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.inlayHintsProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.colorProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.codeLensProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.documentFormattingEditProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.documentRangeFormattingEditProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.onTypeFormattingEditProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.signatureHelpProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.hoverProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.documentHighlightProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.multiDocumentHighlightProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.selectionRangeProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.foldingRangeProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.linkProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.inlineCompletionsProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.inlineEditProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.completionProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.linkedEditingRangeProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.documentRangeSemanticTokensProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.documentSemanticTokensProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.documentDropEditProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.documentPasteEditProvider = new LanguageFeatureRegistry(this._score.bind(this));\n    }\n    _score(uri) {\n        return this._notebookTypeResolver?.(uri);\n    }\n}\nregisterSingleton(ILanguageFeaturesService, LanguageFeaturesService, 1 /* InstantiationType.Delayed */);\n","import { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nexport const ITextModelService = createDecorator('textModelService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as strings from './strings.js';\nvar Severity;\n(function (Severity) {\n    Severity[Severity[\"Ignore\"] = 0] = \"Ignore\";\n    Severity[Severity[\"Info\"] = 1] = \"Info\";\n    Severity[Severity[\"Warning\"] = 2] = \"Warning\";\n    Severity[Severity[\"Error\"] = 3] = \"Error\";\n})(Severity || (Severity = {}));\n(function (Severity) {\n    const _error = 'error';\n    const _warning = 'warning';\n    const _warn = 'warn';\n    const _info = 'info';\n    const _ignore = 'ignore';\n    /**\n     * Parses 'error', 'warning', 'warn', 'info' in call casings\n     * and falls back to ignore.\n     */\n    function fromValue(value) {\n        if (!value) {\n            return Severity.Ignore;\n        }\n        if (strings.equalsIgnoreCase(_error, value)) {\n            return Severity.Error;\n        }\n        if (strings.equalsIgnoreCase(_warning, value) || strings.equalsIgnoreCase(_warn, value)) {\n            return Severity.Warning;\n        }\n        if (strings.equalsIgnoreCase(_info, value)) {\n            return Severity.Info;\n        }\n        return Severity.Ignore;\n    }\n    Severity.fromValue = fromValue;\n    function toString(severity) {\n        switch (severity) {\n            case Severity.Error: return _error;\n            case Severity.Warning: return _warning;\n            case Severity.Info: return _info;\n            default: return _ignore;\n        }\n    }\n    Severity.toString = toString;\n})(Severity || (Severity = {}));\nexport default Severity;\n","//#endregion\n//#region Utilities\nexport var FileKind;\n(function (FileKind) {\n    FileKind[FileKind[\"FILE\"] = 0] = \"FILE\";\n    FileKind[FileKind[\"FOLDER\"] = 1] = \"FOLDER\";\n    FileKind[FileKind[\"ROOT_FOLDER\"] = 2] = \"ROOT_FOLDER\";\n})(FileKind || (FileKind = {}));\n//#endregion\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IEnvironmentService = createDecorator('environmentService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function clamp(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n}\nexport class MovingAverage {\n    constructor() {\n        this._n = 1;\n        this._val = 0;\n    }\n    update(value) {\n        this._val = this._val + (value - this._val) / this._n;\n        this._n += 1;\n        return this._val;\n    }\n    get value() {\n        return this._val;\n    }\n}\nexport class SlidingWindowAverage {\n    constructor(size) {\n        this._n = 0;\n        this._val = 0;\n        this._values = [];\n        this._index = 0;\n        this._sum = 0;\n        this._values = new Array(size);\n        this._values.fill(0, 0, size);\n    }\n    update(value) {\n        const oldValue = this._values[this._index];\n        this._values[this._index] = value;\n        this._index = (this._index + 1) % this._values.length;\n        this._sum -= oldValue;\n        this._sum += value;\n        if (this._n < this._values.length) {\n            this._n += 1;\n        }\n        this._val = this._sum / this._n;\n        return this._val;\n    }\n    get value() {\n        return this._val;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { IMarkerService, MarkerSeverity } from '../../../platform/markers/common/markers.js';\nimport { Disposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { OverviewRulerLane } from '../model.js';\nimport { themeColorFromId } from '../../../platform/theme/common/themeService.js';\nimport { overviewRulerWarning, overviewRulerInfo, overviewRulerError } from '../core/editorColorRegistry.js';\nimport { IModelService } from './model.js';\nimport { Range } from '../core/range.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { minimapInfo, minimapWarning, minimapError } from '../../../platform/theme/common/colorRegistry.js';\nimport { BidirectionalMap, ResourceMap } from '../../../base/common/map.js';\nimport { diffSets } from '../../../base/common/collections.js';\nlet MarkerDecorationsService = class MarkerDecorationsService extends Disposable {\n    constructor(modelService, _markerService) {\n        super();\n        this._markerService = _markerService;\n        this._onDidChangeMarker = this._register(new Emitter());\n        this._markerDecorations = new ResourceMap();\n        modelService.getModels().forEach(model => this._onModelAdded(model));\n        this._register(modelService.onModelAdded(this._onModelAdded, this));\n        this._register(modelService.onModelRemoved(this._onModelRemoved, this));\n        this._register(this._markerService.onMarkerChanged(this._handleMarkerChange, this));\n    }\n    dispose() {\n        super.dispose();\n        this._markerDecorations.forEach(value => value.dispose());\n        this._markerDecorations.clear();\n    }\n    getMarker(uri, decoration) {\n        const markerDecorations = this._markerDecorations.get(uri);\n        return markerDecorations ? (markerDecorations.getMarker(decoration) || null) : null;\n    }\n    _handleMarkerChange(changedResources) {\n        changedResources.forEach((resource) => {\n            const markerDecorations = this._markerDecorations.get(resource);\n            if (markerDecorations) {\n                this._updateDecorations(markerDecorations);\n            }\n        });\n    }\n    _onModelAdded(model) {\n        const markerDecorations = new MarkerDecorations(model);\n        this._markerDecorations.set(model.uri, markerDecorations);\n        this._updateDecorations(markerDecorations);\n    }\n    _onModelRemoved(model) {\n        const markerDecorations = this._markerDecorations.get(model.uri);\n        if (markerDecorations) {\n            markerDecorations.dispose();\n            this._markerDecorations.delete(model.uri);\n        }\n        // clean up markers for internal, transient models\n        if (model.uri.scheme === Schemas.inMemory\n            || model.uri.scheme === Schemas.internal\n            || model.uri.scheme === Schemas.vscode) {\n            this._markerService?.read({ resource: model.uri }).map(marker => marker.owner).forEach(owner => this._markerService.remove(owner, [model.uri]));\n        }\n    }\n    _updateDecorations(markerDecorations) {\n        // Limit to the first 500 errors/warnings\n        const markers = this._markerService.read({ resource: markerDecorations.model.uri, take: 500 });\n        if (markerDecorations.update(markers)) {\n            this._onDidChangeMarker.fire(markerDecorations.model);\n        }\n    }\n};\nMarkerDecorationsService = __decorate([\n    __param(0, IModelService),\n    __param(1, IMarkerService)\n], MarkerDecorationsService);\nexport { MarkerDecorationsService };\nclass MarkerDecorations extends Disposable {\n    constructor(model) {\n        super();\n        this.model = model;\n        this._map = new BidirectionalMap();\n        this._register(toDisposable(() => {\n            this.model.deltaDecorations([...this._map.values()], []);\n            this._map.clear();\n        }));\n    }\n    update(markers) {\n        // We use the fact that marker instances are not recreated when different owners\n        // update. So we can compare references to find out what changed since the last update.\n        const { added, removed } = diffSets(new Set(this._map.keys()), new Set(markers));\n        if (added.length === 0 && removed.length === 0) {\n            return false;\n        }\n        const oldIds = removed.map(marker => this._map.get(marker));\n        const newDecorations = added.map(marker => {\n            return {\n                range: this._createDecorationRange(this.model, marker),\n                options: this._createDecorationOption(marker)\n            };\n        });\n        const ids = this.model.deltaDecorations(oldIds, newDecorations);\n        for (const removedMarker of removed) {\n            this._map.delete(removedMarker);\n        }\n        for (let index = 0; index < ids.length; index++) {\n            this._map.set(added[index], ids[index]);\n        }\n        return true;\n    }\n    getMarker(decoration) {\n        return this._map.getKey(decoration.id);\n    }\n    _createDecorationRange(model, rawMarker) {\n        let ret = Range.lift(rawMarker);\n        if (rawMarker.severity === MarkerSeverity.Hint && !this._hasMarkerTag(rawMarker, 1 /* MarkerTag.Unnecessary */) && !this._hasMarkerTag(rawMarker, 2 /* MarkerTag.Deprecated */)) {\n            // * never render hints on multiple lines\n            // * make enough space for three dots\n            ret = ret.setEndPosition(ret.startLineNumber, ret.startColumn + 2);\n        }\n        ret = model.validateRange(ret);\n        if (ret.isEmpty()) {\n            const maxColumn = model.getLineLastNonWhitespaceColumn(ret.startLineNumber) ||\n                model.getLineMaxColumn(ret.startLineNumber);\n            if (maxColumn === 1 || ret.endColumn >= maxColumn) {\n                // empty line or behind eol\n                // keep the range as is, it will be rendered 1ch wide\n                return ret;\n            }\n            const word = model.getWordAtPosition(ret.getStartPosition());\n            if (word) {\n                ret = new Range(ret.startLineNumber, word.startColumn, ret.endLineNumber, word.endColumn);\n            }\n        }\n        else if (rawMarker.endColumn === Number.MAX_VALUE && rawMarker.startColumn === 1 && ret.startLineNumber === ret.endLineNumber) {\n            const minColumn = model.getLineFirstNonWhitespaceColumn(rawMarker.startLineNumber);\n            if (minColumn < ret.endColumn) {\n                ret = new Range(ret.startLineNumber, minColumn, ret.endLineNumber, ret.endColumn);\n                rawMarker.startColumn = minColumn;\n            }\n        }\n        return ret;\n    }\n    _createDecorationOption(marker) {\n        let className;\n        let color = undefined;\n        let zIndex;\n        let inlineClassName = undefined;\n        let minimap;\n        switch (marker.severity) {\n            case MarkerSeverity.Hint:\n                if (this._hasMarkerTag(marker, 2 /* MarkerTag.Deprecated */)) {\n                    className = undefined;\n                }\n                else if (this._hasMarkerTag(marker, 1 /* MarkerTag.Unnecessary */)) {\n                    className = \"squiggly-unnecessary\" /* ClassName.EditorUnnecessaryDecoration */;\n                }\n                else {\n                    className = \"squiggly-hint\" /* ClassName.EditorHintDecoration */;\n                }\n                zIndex = 0;\n                break;\n            case MarkerSeverity.Info:\n                className = \"squiggly-info\" /* ClassName.EditorInfoDecoration */;\n                color = themeColorFromId(overviewRulerInfo);\n                zIndex = 10;\n                minimap = {\n                    color: themeColorFromId(minimapInfo),\n                    position: 1 /* MinimapPosition.Inline */\n                };\n                break;\n            case MarkerSeverity.Warning:\n                className = \"squiggly-warning\" /* ClassName.EditorWarningDecoration */;\n                color = themeColorFromId(overviewRulerWarning);\n                zIndex = 20;\n                minimap = {\n                    color: themeColorFromId(minimapWarning),\n                    position: 1 /* MinimapPosition.Inline */\n                };\n                break;\n            case MarkerSeverity.Error:\n            default:\n                className = \"squiggly-error\" /* ClassName.EditorErrorDecoration */;\n                color = themeColorFromId(overviewRulerError);\n                zIndex = 30;\n                minimap = {\n                    color: themeColorFromId(minimapError),\n                    position: 1 /* MinimapPosition.Inline */\n                };\n                break;\n        }\n        if (marker.tags) {\n            if (marker.tags.indexOf(1 /* MarkerTag.Unnecessary */) !== -1) {\n                inlineClassName = \"squiggly-inline-unnecessary\" /* ClassName.EditorUnnecessaryInlineDecoration */;\n            }\n            if (marker.tags.indexOf(2 /* MarkerTag.Deprecated */) !== -1) {\n                inlineClassName = \"squiggly-inline-deprecated\" /* ClassName.EditorDeprecatedInlineDecoration */;\n            }\n        }\n        return {\n            description: 'marker-decoration',\n            stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n            className,\n            showIfCollapsed: true,\n            overviewRuler: {\n                color,\n                position: OverviewRulerLane.Right\n            },\n            minimap,\n            zIndex,\n            inlineClassName,\n        };\n    }\n    _hasMarkerTag(marker, tag) {\n        if (marker.tags) {\n            return marker.tags.indexOf(tag) >= 0;\n        }\n        return false;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nexport const ISemanticTokensStylingService = createDecorator('semanticTokensStylingService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { match as matchGlobPattern } from '../../base/common/glob.js';\nimport { normalize } from '../../base/common/path.js';\nexport function score(selector, candidateUri, candidateLanguage, candidateIsSynchronized, candidateNotebookUri, candidateNotebookType) {\n    if (Array.isArray(selector)) {\n        // array -> take max individual value\n        let ret = 0;\n        for (const filter of selector) {\n            const value = score(filter, candidateUri, candidateLanguage, candidateIsSynchronized, candidateNotebookUri, candidateNotebookType);\n            if (value === 10) {\n                return value; // already at the highest\n            }\n            if (value > ret) {\n                ret = value;\n            }\n        }\n        return ret;\n    }\n    else if (typeof selector === 'string') {\n        if (!candidateIsSynchronized) {\n            return 0;\n        }\n        // short-hand notion, desugars to\n        // 'fooLang' -> { language: 'fooLang'}\n        // '*' -> { language: '*' }\n        if (selector === '*') {\n            return 5;\n        }\n        else if (selector === candidateLanguage) {\n            return 10;\n        }\n        else {\n            return 0;\n        }\n    }\n    else if (selector) {\n        // filter -> select accordingly, use defaults for scheme\n        const { language, pattern, scheme, hasAccessToAllModels, notebookType } = selector; // TODO: microsoft/TypeScript#42768\n        if (!candidateIsSynchronized && !hasAccessToAllModels) {\n            return 0;\n        }\n        // selector targets a notebook -> use the notebook uri instead\n        // of the \"normal\" document uri.\n        if (notebookType && candidateNotebookUri) {\n            candidateUri = candidateNotebookUri;\n        }\n        let ret = 0;\n        if (scheme) {\n            if (scheme === candidateUri.scheme) {\n                ret = 10;\n            }\n            else if (scheme === '*') {\n                ret = 5;\n            }\n            else {\n                return 0;\n            }\n        }\n        if (language) {\n            if (language === candidateLanguage) {\n                ret = 10;\n            }\n            else if (language === '*') {\n                ret = Math.max(ret, 5);\n            }\n            else {\n                return 0;\n            }\n        }\n        if (notebookType) {\n            if (notebookType === candidateNotebookType) {\n                ret = 10;\n            }\n            else if (notebookType === '*' && candidateNotebookType !== undefined) {\n                ret = Math.max(ret, 5);\n            }\n            else {\n                return 0;\n            }\n        }\n        if (pattern) {\n            let normalizedPattern;\n            if (typeof pattern === 'string') {\n                normalizedPattern = pattern;\n            }\n            else {\n                // Since this pattern has a `base` property, we need\n                // to normalize this path first before passing it on\n                // because we will compare it against `Uri.fsPath`\n                // which uses platform specific separators.\n                // Refs: https://github.com/microsoft/vscode/issues/99938\n                normalizedPattern = { ...pattern, base: normalize(pattern.base) };\n            }\n            if (normalizedPattern === candidateUri.fsPath || matchGlobPattern(normalizedPattern, candidateUri.fsPath)) {\n                ret = 10;\n            }\n            else {\n                return 0;\n            }\n        }\n        return ret;\n    }\n    else {\n        return 0;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nexport const IMarkerDecorationsService = createDecorator('markerDecorationsService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Codicon } from './codicons.js';\nexport var ThemeColor;\n(function (ThemeColor) {\n    function isThemeColor(obj) {\n        return obj && typeof obj === 'object' && typeof obj.id === 'string';\n    }\n    ThemeColor.isThemeColor = isThemeColor;\n})(ThemeColor || (ThemeColor = {}));\nexport var ThemeIcon;\n(function (ThemeIcon) {\n    ThemeIcon.iconNameSegment = '[A-Za-z0-9]+';\n    ThemeIcon.iconNameExpression = '[A-Za-z0-9-]+';\n    ThemeIcon.iconModifierExpression = '~[A-Za-z]+';\n    ThemeIcon.iconNameCharacter = '[A-Za-z0-9~-]';\n    const ThemeIconIdRegex = new RegExp(`^(${ThemeIcon.iconNameExpression})(${ThemeIcon.iconModifierExpression})?$`);\n    function asClassNameArray(icon) {\n        const match = ThemeIconIdRegex.exec(icon.id);\n        if (!match) {\n            return asClassNameArray(Codicon.error);\n        }\n        const [, id, modifier] = match;\n        const classNames = ['codicon', 'codicon-' + id];\n        if (modifier) {\n            classNames.push('codicon-modifier-' + modifier.substring(1));\n        }\n        return classNames;\n    }\n    ThemeIcon.asClassNameArray = asClassNameArray;\n    function asClassName(icon) {\n        return asClassNameArray(icon).join(' ');\n    }\n    ThemeIcon.asClassName = asClassName;\n    function asCSSSelector(icon) {\n        return '.' + asClassNameArray(icon).join('.');\n    }\n    ThemeIcon.asCSSSelector = asCSSSelector;\n    function isThemeIcon(obj) {\n        return obj && typeof obj === 'object' && typeof obj.id === 'string' && (typeof obj.color === 'undefined' || ThemeColor.isThemeColor(obj.color));\n    }\n    ThemeIcon.isThemeIcon = isThemeIcon;\n    const _regexFromString = new RegExp(`^\\\\$\\\\((${ThemeIcon.iconNameExpression}(?:${ThemeIcon.iconModifierExpression})?)\\\\)$`);\n    function fromString(str) {\n        const match = _regexFromString.exec(str);\n        if (!match) {\n            return undefined;\n        }\n        const [, name] = match;\n        return { id: name };\n    }\n    ThemeIcon.fromString = fromString;\n    function fromId(id) {\n        return { id };\n    }\n    ThemeIcon.fromId = fromId;\n    function modify(icon, modifier) {\n        let id = icon.id;\n        const tildeIndex = id.lastIndexOf('~');\n        if (tildeIndex !== -1) {\n            id = id.substring(0, tildeIndex);\n        }\n        if (modifier) {\n            id = `${id}~${modifier}`;\n        }\n        return { id };\n    }\n    ThemeIcon.modify = modify;\n    function getModifier(icon) {\n        const tildeIndex = icon.id.lastIndexOf('~');\n        if (tildeIndex !== -1) {\n            return icon.id.substring(tildeIndex + 1);\n        }\n        return undefined;\n    }\n    ThemeIcon.getModifier = getModifier;\n    function isEqual(ti1, ti2) {\n        return ti1.id === ti2.id && ti1.color?.id === ti2.color?.id;\n    }\n    ThemeIcon.isEqual = isEqual;\n})(ThemeIcon || (ThemeIcon = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { TreeViewsDnDService } from './treeViewsDnd.js';\nexport const ITreeViewsDnDService = createDecorator('treeViewsDndService');\nregisterSingleton(ITreeViewsDnDService, TreeViewsDnDService, 1 /* InstantiationType.Delayed */);\n"],"names":["encodeSemanticTokensDto","semanticTokens","dest","Uint32Array","result","type","data","length","deltas","delta","encodeSemanticTokensDtoSize","offset","id","set","start","deleteCount","arr","uint8Arr","Uint8Array","buffer","byteOffset","i","len","b0","b1","b2","b3","reverseEndianness","wrap","toLittleEndianBuffer","IModelService","MarkerSeverity","IMarkerData","compare","a","b","_displayStrings","Object","create","Error","Warning","Info","toString","fromSeverity","severity","Ignore","Hint","toSeverity","emptyString","makeKeyOptionalMessage","markerData","useMessage","source","push","replace","code","value","undefined","message","startLineNumber","startColumn","endLineNumber","endColumn","join","makeKey","IMarkerService","IEditorWorkerService","__param","paramIndex","decorator","target","key","ILanguageFeatureDebounceService","IdentityHash","_hashes","WeakMap","pool","of","obj","get","NullDebounceInformation","constructor","_default","this","_model","update","_value","FeatureDebounceInformation","_logService","_name","_registry","_min","_max","_cache","_key","model","all","reduce","hashVal","avg","default","newValue","uri","trace","_overall","LanguageFeatureDebounceService","envService","_data","Map","_isDev","isExtensionDevelopment","isBuilt","feature","name","config","min","max","extra","info","debug","_overallAverage","values","decorators","desc","d","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__decorate","SemanticTokensStylingService","_themeService","_languageService","super","_caches","_register","onDidColorThemeChange","getStyling","provider","has","SemanticTokensProviderStyling","getLegend","ISemanticTokensStylingService","TreeViewsDnDService","_dragOperations","removeDragOperationTransfer","uuid","operation","delete","DraggedTreeItemsIdentifier","identifier","ILanguageFeaturesService","diffSets","before","after","removed","added","element","intersection","setA","setB","Set","elem","add","fileIconDirectoryRegex","getIconClasses","modelService","languageService","resource","fileKind","icon","isThemeIcon","isUri","classes","ROOT_FOLDER","FOLDER","scheme","parseMetaData","META_DATA_LABEL","match","path","cssEscape","toLowerCase","authority","dotSegments","split","slice","detectedLanguageId","languageId","mime","META_DATA_MIME","getLanguageIdByMimeType","getModel","getLanguageId","guessLanguageIdByFilepathOrFirstLine","detectLanguageId","str","isExclusive","selector","Array","isArray","every","exclusive","MatchCandidate","notebookUri","notebookType","recursive","equals","other","LanguageFeatureRegistry","_notebookInfoResolver","_clock","_entries","_onDidChange","onDidChange","event","register","entry","_score","_time","_lastCandidate","fire","idx","indexOf","splice","_updateScores","ordered","_orderedForEach","orderedGroups","lastBucket","lastBucketScore","callback","notebookInfo","candidate","sort","_compareByScoreAndTime","isBuiltinSelector","some","Boolean","isBuiltin","LanguageFeaturesService","referenceProvider","bind","renameProvider","newSymbolNamesProvider","codeActionProvider","definitionProvider","typeDefinitionProvider","declarationProvider","implementationProvider","documentSymbolProvider","inlayHintsProvider","colorProvider","codeLensProvider","documentFormattingEditProvider","documentRangeFormattingEditProvider","onTypeFormattingEditProvider","signatureHelpProvider","hoverProvider","documentHighlightProvider","multiDocumentHighlightProvider","selectionRangeProvider","foldingRangeProvider","linkProvider","inlineCompletionsProvider","inlineEditProvider","completionProvider","linkedEditingRangeProvider","documentRangeSemanticTokensProvider","documentSemanticTokensProvider","documentDropEditProvider","documentPasteEditProvider","_notebookTypeResolver","ITextModelService","Severity","_error","_warning","_info","fromValue","FileKind","IEnvironmentService","clamp","Math","MovingAverage","_n","_val","SlidingWindowAverage","size","_values","_index","_sum","fill","oldValue","MarkerDecorationsService","_markerService","_onDidChangeMarker","_markerDecorations","getModels","forEach","_onModelAdded","onModelAdded","onModelRemoved","_onModelRemoved","onMarkerChanged","_handleMarkerChange","dispose","clear","getMarker","decoration","markerDecorations","changedResources","_updateDecorations","MarkerDecorations","inMemory","internal","vscode","read","map","marker","owner","remove","markers","take","_map","deltaDecorations","keys","oldIds","newDecorations","range","_createDecorationRange","options","_createDecorationOption","ids","removedMarker","index","getKey","rawMarker","ret","lift","_hasMarkerTag","setEndPosition","validateRange","isEmpty","maxColumn","getLineLastNonWhitespaceColumn","getLineMaxColumn","word","getWordAtPosition","getStartPosition","Number","MAX_VALUE","minColumn","getLineFirstNonWhitespaceColumn","className","color","zIndex","inlineClassName","minimap","position","tags","description","stickiness","showIfCollapsed","overviewRuler","Right","tag","score","candidateUri","candidateLanguage","candidateIsSynchronized","candidateNotebookUri","candidateNotebookType","filter","language","pattern","hasAccessToAllModels","normalizedPattern","base","fsPath","IMarkerDecorationsService","ThemeColor","ThemeIcon","isThemeColor","iconNameSegment","iconNameExpression","iconModifierExpression","iconNameCharacter","ThemeIconIdRegex","RegExp","asClassNameArray","exec","error","modifier","classNames","substring","asClassName","asCSSSelector","_regexFromString","fromString","fromId","modify","tildeIndex","lastIndexOf","getModifier","isEqual","ti1","ti2","ITreeViewsDnDService"],"sourceRoot":""}